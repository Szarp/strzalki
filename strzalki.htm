<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
<link href="strzalki.css" rel="stylesheet" type="text/css">

<script >

var
   yyk=[0,50,200,300,50,200,300,50,200,300,50,200,300,50,200,300];
  nazwy=['od','id1','id2','id3','id4','id5','id8','id9','id10','id11','id12','id13',
   'id14','id15','id16'];
   sgora=0;
   sdol=0;
   sprawo=0;
   slewo=0;
   klikrestart=0;
   szerokoscokrag=-100;
   wysokoscokrag=0;
   pozycjaxokrag=570;
   pozycjayokrag=120;
   promienokrag=100;
   cwiartka=0;
   zmiennaokrag=80;
   katx=0;
   katwysokosc=0;
   katszerokosc=0;
   y=5;
   y1=5;
   x1=1;
   x=1;
  //tablicastrzalek=['strzlkagora','strzlkadol','strzlkaprawo','strzlkalewo];
  function cykl(x){
      var y=x+2;
      var z="cykl("+y+")";
       setTimeout( z ,100);
    }
  function start(){
      Last=new Date();
       var z="cykl(0)";
        setTimeout(z,50); 
       var element = document.getElementById( "strzalkagora" );
        element.addEventListener("click",fstrzalkagora);
       var element = document.getElementById( "strzalkadol" );
        element.addEventListener("click",fstrzalkadol);
       var element = document.getElementById( "strzalkaprawo" );
        element.addEventListener("click",fstrzalkaprawo);
       var element = document.getElementById( "strzalkalewo" );
        element.addEventListener("click",fstrzalkalewo);
       var element = document.getElementById( "srodkowy" );
        element.addEventListener("click",zgaszony);
       document.onkeydown = runScript
    }
 function zgaszony(){
       if (sgora==1){
         var  d = document.getElementById("lewygorny");
		  d.style.background="black"; sgora=0;
        }
	    else if (sprawo==1){
		  var  d = document.getElementById("prawygorny");
		   d.style.background="black"; sprawo=0;
	    }
	   else if (slewo==1){
		   var  d = document.getElementById("prawydolny");
		    d.style.background="black"; slewo=0
	    }
	   else if (sdol==1){
		  var  d = document.getElementById("lewydolny");
		   d.style.background="black"; sdol=0;
	    }
    }
 function fstrzalkagora (){
		sgora=1;
		var  d = document.getElementById("kwadrat");
		d.style.top="70px";
    }
 function fstrzalkaprawo (){
		sprawo=1;
		var  d = document.getElementById("kwadrat");
		d.style.left="610px";
    }
 function fstrzalkalewo (){
		sdol=1;
		var  d = document.getElementById("kwadrat");
		d.style.left="510px";
    }
 function fstrzalkadol (){
	   slewo=1;
		var  d = document.getElementById("kwadrat");
		 d.style.top="170px";
    }
 function zgas(x,y){
      var d = document.getElementById(mojeid(x,y));
       d.style.background="black"
    }
 function zapal(x,y){
      var d = document.getElementById(mojeid(x,y));
        d.style.background="white"
    }
 function mojeid(x,y){
     return "id"+x+"_"+y;
    }
 function spadanie(x,y){
      x+=1;
      mojeid(x,y);
    }
 function runScript(e) {
      //alert ("tak")
       if (e.keyCode == 38) {//góra
          katx += 0.05;
		  uaktualnijpozycje();       
        }
	   else if (e.keyCode == 87){
	         zapal(y1,x1)
           if(y>1){y-=1;
	          zgas(y,x);
			  y1=y;
			  x1=x;
	        }
	      else {return false;}
	    }
	   else if (e.keyCode == 65){
	       zapal(y1,x1)
		   if(x>1){x-=1;
	         zgas(y,x);
     		  y1=y;
              x1=x;
		    }
	      else {return false;}
	    }    
	
	   else if (e.keyCode == 68){
	       zapal(y1,x1)
		   if (x<5){x+=1;
	          zgas(y,x);
			  y1=y;
              x1=x;
	        }
	      else {return false;}
	    }
	   else if (e.keyCode == 83){
	       zapal(y1,x1)
		   if(y<5){y+=1;
	         zgas(y,x);
			 y1=y;
             x1=x;
		    }
	       else {return false;}
	    }
	   else if (e.keyCode == 32){
	      sprawdzcwiartke();
        }
	   else {return true;}
    }
 function uaktualnijpozycje (){
       katwysokosc=promienokrag*Math.sin(katx);
       katszerokosc=promienokrag*Math.cos(katx);

       var tb = document.getElementById("obrutokat");
        tb.style.top=(katszerokosc+pozycjayokrag)+"20px";
		tb.style.left=(katwysokosc+pozycjaxokrag)+"560px";
    }
 function sprawdzcwiartke(){
	   if (szerokoscokrag==-promienokrag){
	     cwiartka=0;
	     zmiennaokrag=80;
	     numercwiartki();  
	    }
	   else if (szerokoscokrag==zmiennaokrag){
	     cwiartka+=1;
	     numercwiartki();
	    }
       else{
	      numercwiartki();
        }  
    }
//function wypiszx(){
//var wynik= 	document.getElementById("wynik");
   //wynik.innerHTML=x;
//}

 function numercwiartki(){//tutaj masz siê zatrzymaæ przy cofaniu
       if ((cwiartka == 0) && (szerokoscokrag<promienokrag)) {
	     szerokoscokrag+=10;
	     zmiennaokrag+=1;
	      var z=Math.pow(szerokoscokrag,2)
	       wysokoscokrag=Math.sqrt(10000-z);
	      var d = document.getElementById("kwadrat");
	       d.style.top=(wysokoscokrag+pozycjayokrag)+"px";
	       d.style.left=(szerokoscokrag+pozycjaxokrag)+"px";
	    }
	   else if ((cwiartka == 1) && (szerokoscokrag>-promienokrag)) {
	     szerokoscokrag-=10;
	      var z=Math.pow(szerokoscokrag,2)
	       wysokoscokrag=Math.sqrt(10000-z);
	      var d = document.getElementById("kwadrat");
	        d.style.top=(-wysokoscokrag+pozycjayokrag)+"px";
	        d.style.left=(szerokoscokrag+pozycjaxokrag)+"px";
	    }
    }  

</script>
</head>
</head>
<body >
<div id="obrutokat" style="position:absolute;left:760px;top:120px; width: 10px; height: 10px; background: black;" ></div>
<div id="wynik" style="position:absolute;left:760px;top:120px;" >0</div>
<div id="kwadrat" style="position:absolute;left:460px;top:120px; width: 10px; height: 10px; background: blue;" ></div>
<table class="studnia" style="position:absolute;left:200px;top:30px;">
    <tr>
      <td>
	  <div id="id1_1" ></div>
        </td>
      <td>
	  <div id="id1_2"></div>
        </td>
      <td>
	  <div id="id1_3" ></div>
        </td>
      <td>
	  <div id="id1_4" ></div>
        </td>
      <td>
	  <div id="id1_5"></div>
         </td>
    </tr>
	<tr>
      <td>
	  <div id="id2_1" ></div>
        </td>
      <td>
	  <div id="id2_2"></div>
        </td>
      <td>
	  <div id="id2_3" ></div>
        </td>
      <td>
	  <div id="id2_4" ></div>
        </td>
      <td>
	  <div id="id2_5"></div>
         </td>
    </tr>
	<tr>
      <td>
	  <div id="id3_1" ></div>
        </td>
      <td>
	  <div id="id3_2"></div>
        </td>
      <td>
	  <div id="id3_3" ></div>
        </td>
      <td>
	  <div id="id3_4" ></div>
        </td>
      <td>
	  <div id="id3_5"></div>
         </td>
    </tr>
	<tr>
      <td>
	  <div id="id4_1" ></div>
        </td>
      <td>
	  <div id="id4_2"></div>
        </td>
      <td>
	  <div id="id4_3" ></div>
        </td>
      <td>
	  <div id="id4_4" ></div>
        </td>
      <td>
	  <div id="id4_5"></div>
         </td>
    </tr>
	<tr>
      <td>
	     <div id="id5_1" ></div>
      </td>
      <td>
	     <div id="id5_2"></div>
      </td>
      <td>
	     <div id="id5_3" ></div>
      </td>
      <td>
	     <div id="id5_4" ></div>
      </td>
      <td>
	     <div id="id5_5"></div>
       </td>
    </tr>
	

</table>
<table>
	<tr>
		<td>
			<div id="lewygorny" style="display:none;width: 100px; height: 100px; background: black;"></div>
		</td>
		<td>
			<div id="strzalkagora" style="	display:none;width:0; height:0; border-left:50px solid transparent; border-right:50px solid transparent; border-bottom:100px solid red;"></div>
		</td>
		<td>
			<div id="prawygorny" style="display:none;width: 100px; height: 100px; background: black;"></div>
		</td>
	</tr>
	<tr>
		<td>
			<div id="strzalkalewo" style="display:none;width: 0; height: 0; border-top: 50px solid transparent; border-right: 100px solid red; border-bottom: 50px solid transparent;"></div>
		</td>
		<td>
			<div id="srodkowy" style="display:none;width: 100px; height: 100px; background: black;"></div>
		</td>
			<td>
		<div id="strzalkaprawo" style="display:none;width: 0; height: 0; border-top: 50px solid transparent; border-left: 100px solid red; border-bottom: 50px solid transparent;"></div>
		</td>
	</tr>
		<tr>
		<td>
		<div id="lewydolny" style="display:none;width: 100px; height: 100px; background: black;"></div>
		</td>
		<td>
		<div id="strzalkadol" style="display:none;width: 0; height: 0; border-left: 50px solid transparent; border-right: 50px solid transparent; border-top: 100px solid red;"></div>
		</td>
		<td>
		<div id="prawydolny" style="display:none;width: 100px; height: 100px; background: black;"></div>
		</td>
	</tr>
</table>

<input id="scriptBox" type="text" onkeypress="return runScript(event)" />
<script>
window.onload = start(0);
</script>

</body>